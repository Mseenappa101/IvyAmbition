<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Legal Markets Guide — 50 US Cities | IvyAmbition</title>
  <meta name="description" content="Compare 50 US legal markets by BigLaw salary, AmLaw office count, cost of living, government presence, and feeder law schools." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="tools.css" />
  <style>
    /* ── City Cards ── */
    .markets-layout {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 2rem;
      align-items: start;
    }
    @media(max-width:900px){ .markets-layout { grid-template-columns: 1fr; } }

    .city-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(290px, 1fr));
      gap: 1.25rem;
    }
    .city-card {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      overflow: hidden;
      transition: box-shadow .2s, transform .2s;
    }
    .city-card:hover { box-shadow: 0 6px 24px rgba(0,0,0,.10); transform: translateY(-2px); }
    .city-card-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 1.1rem 1.25rem .75rem;
      border-bottom: 1px solid #f1f5f9;
    }
    .city-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.1rem;
      color: #0d1b2a;
      margin: 0 0 .2rem;
    }
    .city-state { font-size: .8rem; color: #94a3b8; }
    .city-salary-badge {
      font-size: .78rem;
      font-weight: 700;
      color: #059669;
      background: #ecfdf5;
      padding: .2rem .6rem;
      border-radius: 20px;
      white-space: nowrap;
      flex-shrink: 0;
      margin-left: .5rem;
    }
    .city-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      border-bottom: 1px solid #f1f5f9;
    }
    .city-stat {
      padding: .6rem .75rem;
      border-right: 1px solid #f1f5f9;
      text-align: center;
    }
    .city-stat:last-child { border-right: none; }
    .city-stat-val {
      font-size: 1.05rem;
      font-weight: 700;
      color: #0d1b2a;
      display: block;
    }
    .city-stat-lbl {
      font-size: .65rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .04em;
      color: #94a3b8;
      display: block;
      margin-top: .1rem;
    }
    .city-body { padding: .85rem 1.25rem 1.1rem; }
    .city-tags { display: flex; flex-wrap: wrap; gap: .3rem; margin-bottom: .6rem; }
    .city-tag {
      font-size: .7rem;
      font-weight: 600;
      padding: .15rem .5rem;
      border-radius: 20px;
    }
    .tag-biglaw { background: #eff6ff; color: #1d4ed8; }
    .tag-gov    { background: #f0fdf4; color: #166534; }
    .tag-startup{ background: #fdf4ff; color: #7c3aed; }
    .tag-intl   { background: #fff7ed; color: #c2410c; }
    .city-feeder { font-size: .78rem; color: #64748b; margin-bottom: .4rem; }
    .city-feeder strong { color: #334155; }
    .city-lifestyle { font-size: .8rem; color: #475569; line-height: 1.5; }
    .col-bar-wrap { display: flex; align-items: center; gap: .5rem; margin-top: .5rem; }
    .col-label { font-size: .72rem; color: #94a3b8; width: 60px; flex-shrink: 0; }
    .col-track { flex: 1; height: 5px; background: #f1f5f9; border-radius: 3px; }
    .col-fill  { height: 100%; border-radius: 3px; background: #c9a84c; }
    .col-val   { font-size: .72rem; color: #64748b; width: 35px; text-align: right; }

    /* ── Sort + Count ── */
    .markets-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .results-count { font-size: .88rem; color: #64748b; }
    .sort-select {
      padding: .5rem .8rem;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-size: .85rem;
      color: #334155;
      background: #fff;
    }

    .no-results {
      grid-column: 1 / -1;
      text-align: center;
      padding: 3rem;
      color: #94a3b8;
      font-size: .95rem;
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav class="nav" id="mainNav">
  <div class="nav-inner">
    <a href="index.html" class="nav-brand">IvyAmbition</a>
    <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">&#9776;</button>
    <ul class="nav-links" id="navLinks">
      <li><a href="undergraduate.html">Undergraduate</a></li>
      <li class="nav-dropdown">
        <a href="lawschool.html" class="nav-dropbtn">Law School &#9660;</a>
        <ul class="nav-dropdown-content">
          <li><a href="lawschool.html#programs">Programs</a></li>
          <li><a href="lawschool.html#tools">Free Tools</a></li>
          <li><a href="lawschool.html#testimonials">Testimonials</a></li>
        </ul>
      </li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html" class="nav-cta">Get Started</a></li>
    </ul>
  </div>
</nav>
<div class="nav-mobile-menu" id="navMobileMenu">
  <ul>
    <li><a href="undergraduate.html">Undergraduate</a></li>
    <li><a href="lawschool.html">Law School</a></li>
    <li><a href="lawschool.html#tools">Free Law Tools</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Get Started</a></li>
  </ul>
</div>

<!-- HERO -->
<section class="tool-hero">
  <div class="tool-breadcrumb">
    <a href="lawschool.html">Law School</a> &rsaquo;
    <a href="law-tools.html">Free Tools</a> &rsaquo;
    Legal Markets
  </div>
  <p class="tool-eyebrow">Free Tool</p>
  <h1>US Legal Markets Guide</h1>
  <p class="tool-hero-sub">Compare 50 major US cities by BigLaw salary, AmLaw 100 office count, government presence, cost of living, and top feeder law schools.</p>
</section>

<!-- STAT STRIP -->
<div style="background:#f8fafc;border-bottom:1px solid #e2e8f0;padding:.75rem 1.5rem">
  <div style="max-width:1200px;margin:0 auto;display:flex;gap:2rem;flex-wrap:wrap">
    <span style="font-size:.85rem;color:#64748b">50 cities surveyed</span>
    <span style="font-size:.85rem;color:#64748b">Salary range: $145K–$225K BigLaw</span>
    <span style="font-size:.85rem;color:#64748b">COL Index: NYC = 100</span>
    <span style="font-size:.85rem;color:#64748b">Data updated 2024–2025</span>
  </div>
</div>

<!-- MAIN -->
<main style="max-width:1200px;margin:0 auto;padding:2rem 1.5rem 4rem;">
  <div class="markets-layout">

    <!-- SIDEBAR -->
    <aside class="filter-sidebar" style="position:sticky;top:80px">
      <div class="calc-card" style="padding:1.25rem">
        <h3 style="font-family:'Playfair Display',serif;font-size:1rem;margin:0 0 1rem">Filter Cities</h3>

        <div style="margin-bottom:1rem">
          <input type="text" id="searchInput" placeholder="Search city or state…"
            class="calc-field" style="width:100%;box-sizing:border-box"
            oninput="renderCities()" />
        </div>

        <div style="margin-bottom:1.25rem">
          <div class="pa-meta-label" style="font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin-bottom:.5rem">Region</div>
          <div class="filter-pills" id="regionFilter">
            <button class="filter-pill active" data-val="all" onclick="setFilter('region','all',this)">All</button>
            <button class="filter-pill" data-val="Northeast" onclick="setFilter('region','Northeast',this)">Northeast</button>
            <button class="filter-pill" data-val="South" onclick="setFilter('region','South',this)">South</button>
            <button class="filter-pill" data-val="Midwest" onclick="setFilter('region','Midwest',this)">Midwest</button>
            <button class="filter-pill" data-val="West" onclick="setFilter('region','West',this)">West</button>
          </div>
        </div>

        <div style="margin-bottom:1.25rem">
          <div class="pa-meta-label" style="font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin-bottom:.5rem">Market Size</div>
          <div class="filter-pills" id="sizeFilter">
            <button class="filter-pill active" data-val="all" onclick="setFilter('size','all',this)">All</button>
            <button class="filter-pill" data-val="major" onclick="setFilter('size','major',this)">Major (40+ offices)</button>
            <button class="filter-pill" data-val="mid" onclick="setFilter('size','mid',this)">Mid (15–39)</button>
            <button class="filter-pill" data-val="emerging" onclick="setFilter('size','emerging',this)">Emerging (&lt;15)</button>
          </div>
        </div>

        <div style="margin-bottom:1.25rem">
          <div class="pa-meta-label" style="font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin-bottom:.5rem">Gov / PI Presence</div>
          <div class="filter-pills" id="govFilter">
            <button class="filter-pill active" data-val="all" onclick="setFilter('gov','all',this)">All</button>
            <button class="filter-pill" data-val="high" onclick="setFilter('gov','high',this)">High</button>
            <button class="filter-pill" data-val="medium" onclick="setFilter('gov','medium',this)">Medium</button>
            <button class="filter-pill" data-val="low" onclick="setFilter('gov','low',this)">Low</button>
          </div>
        </div>

        <div>
          <div class="pa-meta-label" style="font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;color:#94a3b8;margin-bottom:.5rem">Min BigLaw Salary</div>
          <select id="salaryFilter" class="filter-select" style="width:100%" onchange="renderCities()">
            <option value="0">Any salary</option>
            <option value="200000">$200K+</option>
            <option value="215000">$215K+</option>
            <option value="220000">$220K+</option>
          </select>
        </div>

        <button onclick="resetFilters()" style="margin-top:1.25rem;width:100%;padding:.5rem;background:#f1f5f9;border:none;border-radius:8px;font-size:.85rem;font-weight:600;cursor:pointer;color:#0d1b2a">Reset Filters</button>
      </div>

      <!-- COL Note -->
      <div style="background:#fffbeb;border:1px solid #fde68a;border-radius:10px;padding:1rem;margin-top:1rem;font-size:.8rem;color:#92400e;line-height:1.5">
        <strong>COL Index</strong><br>
        NYC = 100. A COL of 75 means living costs are 25% cheaper than NYC. Salaries adjusted by city tier.
      </div>
    </aside>

    <!-- RESULTS AREA -->
    <div>
      <div class="markets-toolbar">
        <span class="results-count" id="resultsCount">Showing 50 cities</span>
        <select class="sort-select" id="sortSelect" onchange="renderCities()">
          <option value="offices">Sort: Most Offices</option>
          <option value="salary">Sort: Highest Salary</option>
          <option value="col_asc">Sort: Lowest COL</option>
          <option value="col_desc">Sort: Highest COL</option>
          <option value="gov">Sort: Gov/PI Presence</option>
          <option value="alpha">Sort: A → Z</option>
        </select>
      </div>
      <div class="city-grid" id="cityGrid"></div>
    </div>

  </div>
</main>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-col">
      <h4>IvyAmbition</h4>
      <p>Elite admissions consulting for law school and college.</p>
    </div>
    <div class="footer-col">
      <h4>Law Tools</h4>
      <ul>
        <li><a href="law-predictor.html">Admissions Predictor</a></li>
        <li><a href="splitter-finder.html">Splitter Finder</a></li>
        <li><a href="lsat-improvement.html">LSAT Study Plan</a></li>
        <li><a href="lsat-retake.html">LSAT Retake Tool</a></li>
        <li><a href="law-debt.html">Debt Calculator</a></li>
        <li><a href="biglaw-pi.html">BigLaw vs PI</a></li>
        <li><a href="law-scholarship-estimator.html">Scholarship Estimator</a></li>
        <li><a href="practice-areas.html">Practice Area Guide</a></li>
        <li><a href="legal-markets.html">Legal Markets</a></li>
        <li><a href="scholarship-negotiation.html">Scholarship Negotiation</a></li>
      </ul>
    </div>
    <div class="footer-col">
      <h4>Company</h4>
      <ul>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="undergraduate.html">Undergraduate</a></li>
        <li><a href="lawschool.html">Law School</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 IvyAmbition. All rights reserved. | <a href="privacy.html">Privacy Policy</a></p>
  </div>
</footer>

<script>
// ══════════════════════════════════════════════
// 50-CITY DATA
// Fields: id, city, state, region, amlaw100Offices, biglawSalary,
//         govPresence (high/medium/low), col (NYC=100),
//         feeders[], tags[], lifestyle
// ══════════════════════════════════════════════

const CITIES = [
  // ── NORTHEAST ──
  { id:'nyc', city:'New York City', state:'NY', region:'Northeast',
    amlaw100Offices:95, biglawSalary:225000, govPresence:'medium', col:100,
    feeders:['Columbia','NYU','Harvard','Fordham','Brooklyn'],
    tags:['biglaw','intl'], lifestyle:'The largest legal market in the world. Dominant in M&A, finance, and international arbitration. Cravath scale salaries. Intense competition; unmatched deal flow.' },
  { id:'dc', city:'Washington D.C.', state:'DC', region:'Northeast',
    amlaw100Offices:82, biglawSalary:215000, govPresence:'high', col:85,
    feeders:['Georgetown','GWU','American','Harvard','NYU'],
    tags:['biglaw','gov','intl'], lifestyle:'The federal government hub. Exceptional for regulatory, policy, and government affairs work. Litigation, antitrust, and lobbying boutiques thrive alongside BigLaw.' },
  { id:'boston', city:'Boston', state:'MA', region:'Northeast',
    amlaw100Offices:38, biglawSalary:215000, govPresence:'medium', col:88,
    feeders:['Harvard','Boston','BU','Northeastern'],
    tags:['biglaw','startup'], lifestyle:'Strong in biotech, life sciences M&A, and private equity. Top firms include Ropes & Gray and WilmerHale. Strong appellate practice; proximity to Harvard Law.' },
  { id:'philly', city:'Philadelphia', state:'PA', region:'Northeast',
    amlaw100Offices:24, biglawSalary:215000, govPresence:'medium', col:73,
    feeders:['Penn','Temple','Villanova','Drexel'],
    tags:['biglaw'], lifestyle:'Second-tier Northeastern market. Strong in litigation, healthcare, and financial services. Many graduates practice in Philadelphia after attending Penn or Temple.' },
  { id:'newark', city:'Newark / NJ', state:'NJ', region:'Northeast',
    amlaw100Offices:12, biglawSalary:215000, govPresence:'medium', col:75,
    feeders:['Rutgers','Seton Hall','Columbia','NYU'],
    tags:['gov'], lifestyle:'Proximity to NYC creates strong BigLaw satellite presence. Federal courts make Newark a significant litigation hub. Lower COL than NYC.' },
  { id:'hartford', city:'Hartford', state:'CT', region:'Northeast',
    amlaw100Offices:8, biglawSalary:190000, govPresence:'medium', col:68,
    feeders:['UConn','Quinnipiac','Yale'],
    tags:[], lifestyle:'Insurance industry hub generating significant regulatory and commercial litigation. Smaller market with solid quality of life.' },
  { id:'providence', city:'Providence', state:'RI', region:'Northeast',
    amlaw100Offices:4, biglawSalary:175000, govPresence:'low', col:62,
    feeders:['Roger Williams','Suffolk'],
    tags:[], lifestyle:'Small but growing market. Healthcare and government contracting. Strong quality of life with access to Boston market.' },
  { id:'albany', city:'Albany', state:'NY', region:'Northeast',
    amlaw100Offices:5, biglawSalary:165000, govPresence:'high', col:58,
    feeders:['Albany','Syracuse','Buffalo'],
    tags:['gov'], lifestyle:'NY state government hub. Regulatory, lobbying, and legislative work. Very low cost of living.' },
  { id:'buffalo', city:'Buffalo', state:'NY', region:'Northeast',
    amlaw100Offices:6, biglawSalary:160000, govPresence:'medium', col:52,
    feeders:['Buffalo','Syracuse'],
    tags:[], lifestyle:'Regional market with real estate, litigation, and healthcare practices. One of the most affordable major cities. Proximity to Toronto creates cross-border work.' },
  { id:'pittsburgh', city:'Pittsburgh', state:'PA', region:'Northeast',
    amlaw100Offices:10, biglawSalary:175000, govPresence:'medium', col:55,
    feeders:['Pitt','Duquesne'],
    tags:[], lifestyle:'Energy, healthcare, and technology practices. Post-industrial reinvention creating startup legal demand. Very affordable with improving quality of life.' },

  // ── SOUTH ──
  { id:'miami', city:'Miami', state:'FL', region:'South',
    amlaw100Offices:32, biglawSalary:215000, govPresence:'low', col:80,
    feeders:['Miami','UM','FIU','Georgetown'],
    tags:['biglaw','intl'], lifestyle:'Latin American business gateway. Strong in international arbitration, private wealth, real estate, and cross-border M&A. No state income tax. Growing tech presence.' },
  { id:'atlanta', city:'Atlanta', state:'GA', region:'South',
    amlaw100Offices:35, biglawSalary:215000, govPresence:'medium', col:72,
    feeders:['Emory','Georgia','Georgia State'],
    tags:['biglaw','startup'], lifestyle:'Major Southern hub. Strong M&A, real estate, and capital markets. Growing tech and fintech sector. No BigLaw-heavy IP but litigation and corporate are dominant.' },
  { id:'houston', city:'Houston', state:'TX', region:'South',
    amlaw100Offices:40, biglawSalary:215000, govPresence:'low', col:68,
    feeders:['Texas','South Texas','Houston','Baylor'],
    tags:['biglaw','intl'], lifestyle:'Energy capital of the world. Energy finance, M&A, and international arbitration thrive. No state income tax. Vinson & Elkins, Baker Botts headquartered here.' },
  { id:'dallas', city:'Dallas / Fort Worth', state:'TX', region:'South',
    amlaw100Offices:38, biglawSalary:215000, govPresence:'low', col:65,
    feeders:['SMU','Texas','Baylor'],
    tags:['biglaw','startup'], lifestyle:'Fastest-growing BigLaw market. Significant corporate relocation driving M&A demand. No state income tax. Haynes Boone, Vinson & Elkins strong presence.' },
  { id:'austin', city:'Austin', state:'TX', region:'South',
    amlaw100Offices:18, biglawSalary:215000, govPresence:'low', col:75,
    feeders:['Texas','St. Mary\'s','UT Austin'],
    tags:['biglaw','startup'], lifestyle:'Tech and startup boom driving IP, VC, and M&A demand. Dell, Tesla, Oracle presence creating BigLaw office expansions. No state income tax. High growth trajectory.' },
  { id:'charlotte', city:'Charlotte', state:'NC', region:'South',
    amlaw100Offices:18, biglawSalary:205000, govPresence:'low', col:62,
    feeders:['Duke','UNC','Wake Forest','Charlotte'],
    tags:['biglaw'], lifestyle:'Banking hub (Bank of America, Truist HQ). Financial services regulatory and transactional work. Rapidly growing BigLaw presence.' },
  { id:'nashville', city:'Nashville', state:'TN', region:'South',
    amlaw100Offices:14, biglawSalary:200000, govPresence:'low', col:65,
    feeders:['Vanderbilt','Belmont'],
    tags:['startup'], lifestyle:'Healthcare capital. Hospital systems and health tech driving deal flow. Music industry IP a niche. No state income tax. Growing BigLaw satellite.' },
  { id:'richmond', city:'Richmond', state:'VA', region:'South',
    amlaw100Offices:10, biglawSalary:190000, govPresence:'medium', col:60,
    feeders:['Virginia','Richmond','William & Mary'],
    tags:['gov'], lifestyle:'Virginia government and regulatory work. 4th Circuit Court of Appeals creates litigation hub. Proximity to DC extends market. Affordable.' },
  { id:'nola', city:'New Orleans', state:'LA', region:'South',
    amlaw100Offices:10, biglawSalary:185000, govPresence:'medium', col:60,
    feeders:['Tulane','Loyola'],
    tags:['intl'], lifestyle:'Maritime, energy (Gulf of Mexico), and environmental litigation. Civil law tradition (Louisiana). International shipping creates unique legal work.' },
  { id:'memphis', city:'Memphis', state:'TN', region:'South',
    amlaw100Offices:6, biglawSalary:170000, govPresence:'medium', col:48,
    feeders:['Memphis','Vanderbilt'],
    tags:[], lifestyle:'Logistics and healthcare market. FedEx HQ generates shipping and logistics law. Very affordable market.' },
  { id:'raleigh', city:'Raleigh / Durham', state:'NC', region:'South',
    amlaw100Offices:12, biglawSalary:205000, govPresence:'medium', col:63,
    feeders:['Duke','UNC','NC State'],
    tags:['startup'], lifestyle:'Research Triangle driving biotech and IP demand. Duke and UNC Law proximity. Growing tech sector attracting BigLaw offices.' },
  { id:'tampa', city:'Tampa', state:'FL', region:'South',
    amlaw100Offices:14, biglawSalary:200000, govPresence:'low', col:65,
    feeders:['Florida','Tampa','Stetson'],
    tags:[], lifestyle:'Healthcare and real estate focus. No state income tax. Growing market with quality of life advantages. Less BigLaw prestige than Miami.' },
  { id:'birmingham', city:'Birmingham', state:'AL', region:'South',
    amlaw100Offices:7, biglawSalary:175000, govPresence:'medium', col:47,
    feeders:['Alabama','Samford'],
    tags:[], lifestyle:'Healthcare and energy practices. Very affordable. Bradley Arant Boult Cummings headquartered here. Strong regional litigation practice.' },
  { id:'jacksonville', city:'Jacksonville', state:'FL', region:'South',
    amlaw100Offices:8, biglawSalary:185000, govPresence:'low', col:58,
    feeders:['Florida','Jacksonville','Stetson'],
    tags:[], lifestyle:'Insurance and financial services hub. No state income tax. Growing market with significant healthcare and military legal work.' },
  { id:'oklahomacity', city:'Oklahoma City', state:'OK', region:'South',
    amlaw100Offices:5, biglawSalary:165000, govPresence:'medium', col:47,
    feeders:['Oklahoma','Oklahoma City'],
    tags:[], lifestyle:'Energy (oil & gas) and Native American law specialties. Very affordable. Strong regional firms like Crowe & Dunlevy.' },

  // ── MIDWEST ──
  { id:'chicago', city:'Chicago', state:'IL', region:'Midwest',
    amlaw100Offices:55, biglawSalary:215000, govPresence:'medium', col:82,
    feeders:['Chicago','Northwestern','Loyola Chicago','DePaul'],
    tags:['biglaw','intl'], lifestyle:'Third-largest US legal market. M&A, finance, and litigation powerhouse. Kirkland & Ellis (world\'s largest firm by revenue) HQ here. Excellent quality of life relative to cost.' },
  { id:'minneapolis', city:'Minneapolis / St. Paul', state:'MN', region:'Midwest',
    amlaw100Offices:16, biglawSalary:205000, govPresence:'medium', col:67,
    feeders:['Minnesota','William Mitchell'],
    tags:['biglaw'], lifestyle:'Midwest Fortune 500 hub (Target, UnitedHealth, Medtronic). M&A, healthcare regulatory, and class action litigation. Faegre Drinker and Dorsey HQ.' },
  { id:'cleveland', city:'Cleveland', state:'OH', region:'Midwest',
    amlaw100Offices:10, biglawSalary:185000, govPresence:'medium', col:52,
    feeders:['Case Western','Ohio State','Cleveland State'],
    tags:[], lifestyle:'Healthcare, manufacturing M&A. Jones Day (global largest firm) HQ. Very affordable. Improving downtown scene.' },
  { id:'columbus', city:'Columbus', state:'OH', region:'Midwest',
    amlaw100Offices:10, biglawSalary:190000, govPresence:'medium', col:54,
    feeders:['Ohio State','Capital'],
    tags:[], lifestyle:'State government hub; banking and insurance regulatory work. Nationwide Insurance and L Brands drive transactional demand. Affordable growing city.' },
  { id:'detroit', city:'Detroit', state:'MI', region:'Midwest',
    amlaw100Offices:12, biglawSalary:190000, govPresence:'medium', col:50,
    feeders:['Michigan','Wayne State','Detroit Mercy'],
    tags:[], lifestyle:'Auto industry legal hub. Automotive M&A, IP, and supply chain contracts. Dykema headquartered here. Affordable with major urban renewal underway.' },
  { id:'milwaukee', city:'Milwaukee', state:'WI', region:'Midwest',
    amlaw100Offices:8, biglawSalary:180000, govPresence:'medium', col:56,
    feeders:['Wisconsin','Marquette'],
    tags:[], lifestyle:'Insurance and manufacturing legal work. Foley & Lardner HQ. Proximity to Chicago expands market options. Good quality of life.' },
  { id:'stlouis', city:'St. Louis', state:'MO', region:'Midwest',
    amlaw100Offices:10, biglawSalary:185000, govPresence:'medium', col:55,
    feeders:['Washington Univ.','Saint Louis Univ.'],
    tags:[], lifestyle:'Healthcare, pharmaceutical, and agricultural law. Monsanto (now Bayer) drives ag-biotech IP. Bryan Cave Leighton Paisner HQ. Affordable.' },
  { id:'kansascity', city:'Kansas City', state:'MO', region:'Midwest',
    amlaw100Offices:8, biglawSalary:185000, govPresence:'medium', col:53,
    feeders:['UMKC','Kansas','Missouri'],
    tags:[], lifestyle:'Agricultural commodities, financial services, and healthcare. Affordable cost of living. Spencer Fane and Polsinelli HQ. Growing startup scene.' },
  { id:'indianapolis', city:'Indianapolis', state:'IN', region:'Midwest',
    amlaw100Offices:8, biglawSalary:180000, govPresence:'medium', col:52,
    feeders:['Indiana','Notre Dame','IU McKinney'],
    tags:[], lifestyle:'Pharmaceutical, medical device, and sports law (NCAA HQ). ICE Miller and Barnes & Thornburg HQ. Very affordable market.' },
  { id:'cincinnati', city:'Cincinnati', state:'OH', region:'Midwest',
    amlaw100Offices:8, biglawSalary:185000, govPresence:'medium', col:53,
    feeders:['Cincinnati','Ohio State'],
    tags:[], lifestyle:'P&G, Fifth Third Bank, and Kroger drive corporate legal demand. Dinsmore & Shohl HQ. Affordable with solid quality of life.' },

  // ── WEST ──
  { id:'la', city:'Los Angeles', state:'CA', region:'West',
    amlaw100Offices:55, biglawSalary:215000, govPresence:'medium', col:95,
    feeders:['UCLA','USC','Loyola LA','Pepperdine'],
    tags:['biglaw','startup','intl'], lifestyle:'Second largest US legal market. Entertainment, IP, real estate M&A, and Pacific Rim transactions dominant. Latham & Watkins and Gibson Dunn HQ.' },
  { id:'sf', city:'San Francisco', state:'CA', region:'West',
    amlaw100Offices:42, biglawSalary:215000, govPresence:'medium', col:105,
    feeders:['Berkeley','Stanford','Hastings','UCLA'],
    tags:['biglaw','startup','intl'], lifestyle:'Tech and VC dominant. IP, securities, antitrust, and startup financing. Wilson Sonsini and Cooley HQ. Expensive but unmatched in tech law.' },
  { id:'seattle', city:'Seattle', state:'WA', region:'West',
    amlaw100Offices:22, biglawSalary:215000, govPresence:'low', col:90,
    feeders:['UW','Seattle University'],
    tags:['biglaw','startup'], lifestyle:'Amazon, Microsoft, and Boeing drive tech, IP, and aerospace M&A. No state income tax. Perkins Coie and Orrick strong presence. Growing fast.' },
  { id:'paloalto', city:'Silicon Valley / Palo Alto', state:'CA', region:'West',
    amlaw100Offices:18, biglawSalary:215000, govPresence:'low', col:110,
    feeders:['Stanford','Berkeley','UCLA'],
    tags:['startup'], lifestyle:'Startup financing, VC, and tech M&A capital of the world. Wilson Sonsini Goodrich & Rosati HQ. Highest COL in US. Essential for tech law careers.' },
  { id:'phoenix', city:'Phoenix', state:'AZ', region:'West',
    amlaw100Offices:16, biglawSalary:200000, govPresence:'low', col:64,
    feeders:['Arizona','ASU','Phoenix'],
    tags:['startup'], lifestyle:'One of the fastest-growing legal markets. Real estate, technology, and financial services. No state income tax. Lower COL than coastal peers.' },
  { id:'denver', city:'Denver', state:'CO', region:'West',
    amlaw100Offices:16, biglawSalary:205000, govPresence:'medium', col:72,
    feeders:['Colorado','Denver','Colorado State'],
    tags:['startup'], lifestyle:'Energy (oil & gas, cannabis law), real estate, and tech startup law. Fennemore and Kutak Rock strong presence. High quality of life; outdoor lifestyle.' },
  { id:'portland', city:'Portland', state:'OR', region:'West',
    amlaw100Offices:10, biglawSalary:195000, govPresence:'medium', col:78,
    feeders:['Lewis & Clark','Oregon','Willamette'],
    tags:['startup'], lifestyle:'Environmental law, tech, and real estate. No state sales tax. Strong public interest tradition. Stoel Rives HQ. Growing but smaller than Seattle.' },
  { id:'sandiego', city:'San Diego', state:'CA', region:'West',
    amlaw100Offices:12, biglawSalary:210000, govPresence:'medium', col:90,
    feeders:['USD','California Western','UC San Diego'],
    tags:['startup'], lifestyle:'Biotech and life sciences IP hub. Defense contractors (Qualcomm) drive litigation and compliance. Military JAG presence. High quality of life.' },
  { id:'saltlake', city:'Salt Lake City', state:'UT', region:'West',
    amlaw100Offices:8, biglawSalary:190000, govPresence:'low', col:62,
    feeders:['BYU','Utah'],
    tags:['startup'], lifestyle:'Tech hub called "Silicon Slopes." VC-backed startup law. No estate income tax at lower brackets. Rapid growth. Dorsey and Parsons Behle strong presence.' },
  { id:'lasvegas', city:'Las Vegas', state:'NV', region:'West',
    amlaw100Offices:8, biglawSalary:190000, govPresence:'low', col:65,
    feeders:['UNLV','Pepperdine'],
    tags:[], lifestyle:'Gaming, real estate, and entertainment law. No state income tax. Growing transactional market. Snell & Wilmer strong presence. Unique practice area opportunities.' },
  { id:'albuquerque', city:'Albuquerque', state:'NM', region:'West',
    amlaw100Offices:4, biglawSalary:165000, govPresence:'high', col:48,
    feeders:['UNM'],
    tags:['gov'], lifestyle:'Federal government, Native American law, and energy regulation. Sandia Labs and government contractors. Affordable; strong public interest opportunities.' },
  { id:'boise', city:'Boise', state:'ID', region:'West',
    amlaw100Offices:4, biglawSalary:165000, govPresence:'low', col:57,
    feeders:['Idaho','BYU'],
    tags:['startup'], lifestyle:'One of the fastest-growing cities in the US. Tech startup law and real estate driving demand. Very affordable. Parson Behle & Latimer strong presence.' },
  { id:'sacramento', city:'Sacramento', state:'CA', region:'West',
    amlaw100Offices:7, biglawSalary:200000, govPresence:'high', col:78,
    feeders:['Davis','McGeorge','Golden Gate'],
    tags:['gov'], lifestyle:'California state government hub. Regulatory, lobbying, and legislative practice. Strong public interest tradition. More affordable than SF/LA.' },
  { id:'honolulu', city:'Honolulu', state:'HI', region:'West',
    amlaw100Offices:3, biglawSalary:175000, govPresence:'medium', col:100,
    feeders:['Hawaii'],
    tags:[], lifestyle:'Tourism, land use, and Native Hawaiian law specialties. Very high cost of living matches NYC. Limited BigLaw presence; most graduates practice locally.' },
  { id:'anchorage', city:'Anchorage', state:'AK', region:'West',
    amlaw100Offices:2, biglawSalary:165000, govPresence:'high', col:85,
    feeders:['Alaska'],
    tags:['gov'], lifestyle:'Energy (oil & gas pipeline), environmental, and Native Alaskan law. Remote but unique practice opportunities. Federal government and resource extraction dominate.' },
  { id:'omaha', city:'Omaha', state:'NE', region:'Midwest',
    amlaw100Offices:5, biglawSalary:175000, govPresence:'low', col:50,
    feeders:['Nebraska','Creighton'],
    tags:[], lifestyle:'Berkshire Hathaway and financial services drive M&A and investment law. Very affordable. Kutak Rock HQ.' },
  { id:'louisville', city:'Louisville', state:'KY', region:'South',
    amlaw100Offices:7, biglawSalary:175000, govPresence:'medium', col:52,
    feeders:['Louisville','Kentucky','Bellarmine'],
    tags:[], lifestyle:'Healthcare, bourbon industry, and horse racing law (unique specialty). Humana and Kindred HQ create healthcare regulatory work. Very affordable.' },
  { id:'knoxville', city:'Knoxville', state:'TN', region:'South',
    amlaw100Offices:4, biglawSalary:160000, govPresence:'medium', col:47,
    feeders:['Tennessee'],
    tags:[], lifestyle:'TVA and energy law. University of Tennessee Law School feeder. Very low COL. Smaller but stable market.' },
  { id:'tucson', city:'Tucson', state:'AZ', region:'West',
    amlaw100Offices:3, biglawSalary:155000, govPresence:'medium', col:52,
    feeders:['Arizona'],
    tags:[], lifestyle:'University and government-driven market. Environmental and real estate specialties. Border law (immigration) niche. Very affordable.' },
  { id:'richmond2', city:'Charleston', state:'SC', region:'South',
    amlaw100Offices:4, biglawSalary:170000, govPresence:'medium', col:55,
    feeders:['South Carolina','Charleston'],
    tags:[], lifestyle:'Port and maritime law. Growing aerospace and manufacturing (Boeing) legal demand. Nexsen Pruet strong presence. Good quality of life.' }
];

// ══════════════════════════════════════════════
// FILTER STATE
// ══════════════════════════════════════════════

const filters = { region: 'all', size: 'all', gov: 'all' };

function setFilter(type, val, btn) {
  filters[type] = val;
  document.querySelectorAll(`#${type}Filter .filter-pill`).forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderCities();
}

function resetFilters() {
  filters.region = 'all'; filters.size = 'all'; filters.gov = 'all';
  document.getElementById('searchInput').value = '';
  document.getElementById('salaryFilter').value = '0';
  document.getElementById('sortSelect').value = 'offices';
  document.querySelectorAll('.filter-pill').forEach(b => {
    b.classList.toggle('active', b.dataset.val === 'all');
  });
  renderCities();
}

function getMarketSize(city) {
  if (city.amlaw100Offices >= 40) return 'major';
  if (city.amlaw100Offices >= 15) return 'mid';
  return 'emerging';
}

// ══════════════════════════════════════════════
// RENDER
// ══════════════════════════════════════════════

function renderCities() {
  const search = document.getElementById('searchInput').value.toLowerCase();
  const minSalary = parseInt(document.getElementById('salaryFilter').value);
  const sortBy = document.getElementById('sortSelect').value;

  let cities = CITIES.filter(c => {
    if (filters.region !== 'all' && c.region !== filters.region) return false;
    if (filters.size !== 'all' && getMarketSize(c) !== filters.size) return false;
    if (filters.gov !== 'all' && c.govPresence !== filters.gov) return false;
    if (minSalary && c.biglawSalary < minSalary) return false;
    if (search && !c.city.toLowerCase().includes(search) && !c.state.toLowerCase().includes(search)) return false;
    return true;
  });

  // Sort
  const sortFns = {
    offices:  (a,b) => b.amlaw100Offices - a.amlaw100Offices,
    salary:   (a,b) => b.biglawSalary - a.biglawSalary,
    col_asc:  (a,b) => a.col - b.col,
    col_desc: (a,b) => b.col - a.col,
    gov:      (a,b) => { const o={high:3,medium:2,low:1}; return o[b.govPresence]-o[a.govPresence]; },
    alpha:    (a,b) => a.city.localeCompare(b.city)
  };
  cities.sort(sortFns[sortBy] || sortFns.offices);

  const grid = document.getElementById('cityGrid');
  document.getElementById('resultsCount').textContent = `Showing ${cities.length} of 50 cities`;

  if (cities.length === 0) {
    grid.innerHTML = '<div class="no-results">No cities match your filters. Try adjusting your criteria.</div>';
    return;
  }

  const govColors = { high:'#166534,#dcfce7', medium:'#92400e,#fef9c3', low:'#1e40af,#dbeafe' };

  grid.innerHTML = cities.map(c => {
    const [govTxt, govBg] = govColors[c.govPresence].split(',');
    const sizeLabel = getMarketSize(c);
    const colPct = Math.round((c.col / 115) * 100);
    const tagMap = { biglaw:'tag-biglaw', gov:'tag-gov', startup:'tag-startup', intl:'tag-intl' };
    const tagLabels = { biglaw:'BigLaw Hub', gov:'Gov / PI', startup:'Tech / Startup', intl:'International' };
    const tagsHTML = c.tags.map(t => `<span class="city-tag ${tagMap[t]}">${tagLabels[t]}</span>`).join('');

    return `
<div class="city-card">
  <div class="city-card-top">
    <div>
      <div class="city-name">${c.city}</div>
      <div class="city-state">${c.state} &middot; ${c.region}</div>
    </div>
    <span class="city-salary-badge">$${Math.round(c.biglawSalary/1000)}K</span>
  </div>
  <div class="city-stats">
    <div class="city-stat">
      <span class="city-stat-val">${c.amlaw100Offices}</span>
      <span class="city-stat-lbl">AmLaw Offices</span>
    </div>
    <div class="city-stat">
      <span class="city-stat-val" style="color:${govTxt}">${c.govPresence.charAt(0).toUpperCase()+c.govPresence.slice(1)}</span>
      <span class="city-stat-lbl">Gov / PI</span>
    </div>
    <div class="city-stat">
      <span class="city-stat-val">${c.col}</span>
      <span class="city-stat-lbl">COL Index</span>
    </div>
  </div>
  <div class="city-body">
    ${tagsHTML ? `<div class="city-tags">${tagsHTML}</div>` : ''}
    <div class="city-feeder"><strong>Top Feeders:</strong> ${c.feeders.slice(0,3).join(', ')}</div>
    <div class="city-lifestyle">${c.lifestyle}</div>
    <div class="col-bar-wrap">
      <span class="col-label">Cost of Living</span>
      <div class="col-track"><div class="col-fill" style="width:${colPct}%;background:${c.col > 90 ? '#ef4444' : c.col > 70 ? '#f59e0b' : '#10b981'}"></div></div>
      <span class="col-val">NYC=${c.col}</span>
    </div>
  </div>
</div>`;
  }).join('');
}

// ── NAV ──
document.getElementById('navToggle').addEventListener('click', () => {
  document.getElementById('navMobileMenu').classList.toggle('open');
});
window.addEventListener('scroll', () => {
  document.getElementById('mainNav').classList.toggle('nav-scrolled', window.scrollY > 40);
});

// ── INIT ──
renderCities();
</script>
</body>
</html>
